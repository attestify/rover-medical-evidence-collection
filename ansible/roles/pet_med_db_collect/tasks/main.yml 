---
- name: Define canned source and destination directories
  ansible.builtin.set_fact:
    db_src_dir: "{{ rover_system_root }}/rover-medical-evidence-collection/rover-medical-system/{{ release }}/pet-medicine-db"
    db_dest_dir: "{{ rover_system_root }}/pet-medicine-db"

- name: Ensure destination directory exists at repo root
  ansible.builtin.file:
    path: "{{ db_dest_dir }}"
    state: directory
    mode: "0750"

- name: Copy entire pet-medicine-db directory contents to repo root
  ansible.builtin.copy:
    src: "{{ db_src_dir }}/"
    dest: "{{ db_dest_dir }}/"
    mode: "0640"
    directory_mode: "0750"
    remote_src: true